<!DOCTYPE html>
<html>
<head>

</script>
</head>
<body>
<textarea id="t0">
[Game "Chinese Chess"]
[FEN "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1"]
[Format "ICCS"]
1. H2-E2 H9-G7
2. H0-G2 I9-H9
3. I0-H0 B9-C7
4. C3-C4 G6-G5
5. H0-H6 H7-I7
6. H6-G6 D9-E8
7. B0-C2 I7-I8
8. B2-A2 A9-B9
9. A0-B0 
</textarea>
<textarea id="t4b2" style="display:none;">
var t0 = document.getElementById('t0');
var s = t0.value;
s1 = s.split('[Format "ICCS"]'); 
var s2 = s1[1].split('\n'); 

var i = 0;
var r = "";

for(i=1;i<s2.length-1;i++)
{
    
    var s3 = s2[i].split('.'); 
    var s4 = s3[1].split(' ');
    r += s4[1];  
    r += "+";
    r += s4[2];  
    r += "+";

} 
blObj.blc.blCreateFlashCChessBord(document.body,"f2",r);





</textarea>
  <script>
    function blClass(){ 

        this.blRunJs = function(s){             
            eval(s);
        }

        this.blCreateFlashCChessBord = function(oDivBoss,id,ml){             
            var s = "";
            s += '<embed ';
            s += 'src="';
            s += 'https://littleflute.github.io/cchess/ref/http/www.xqbase.com/pub/flashxq.swf"';
            s += 'width="324" height="396" type="application/x-shockwave-flash"'; 
            s += 'pluginspage="http://www.macromedia.com/go/getflashplayer"';         
            s += 'allowScriptAccess="always" quality="high" wmode="transparent"';         
            s += 'flashvars="MoveList=';           
            s += ml;
            s += '"';         
            s += '/>';
            var r = this.blDiv(oDivBoss,id,s);    
            var t = this.blDiv(r,id+"title",id+":"+ml);     
            return r;
        }
        this.blTextArea = function (oBoss,id,html){
            var r = document.getElementById(id);
            if(!r){
                r = document.createElement("textarea");
                r.id = id; oBoss.appendChild(r);
            }

            r.innerHTML = html;             
           return r;
        }
        this.blBtn = function (oBoss,id,html){
            var r = document.getElementById(id);
            if(!r){
                r = document.createElement("button");
                r.id = id; oBoss.appendChild(r);
            }
            r.innerHTML = html;             
           return r;
        }
        this.blDiv = function (oBoss,id,html){
            var r = document.getElementById(id);
            if(!r){
                r = document.createElement("div");
                r.id = id; 
            }
            r.innerHTML = html; 
     
            oBoss.appendChild(r);
           return r;
        }
        this.blLink = function (oBoss,id,html,href,bkClr){
            var r = document.getElementById(id);
            if(!r){
                r = document.createElement("a");
    	        var t = document.createTextNode(html);
    	        r.setAttribute("href", href);
    	        r.setAttribute("target", "_blank");
                r.id = id; 
    	        r.style.backgroundColor = bkClr?bkClr:"blue";
            }
            r.innerHTML = html; 
            oBoss.appendChild(r);
            return r;
         }
    }
    var blObj = {};
    blObj.run = function(){
        var blc = new blClass;
        var main = blc.blDiv(document.body,"mainDiv","mainDiv:"); 
        var av = blc.blLink(main,"av","v0.3.3","https://github.com/littleflute/cchess/edit/master/ref/pu/PianZhaoYuDuiCe/main.html","red"); 
        
        var ame = blc.blLink(main,"ame","+me","https://littleflute.github.io/cchess/ref/pu/PianZhaoYuDuiCe/main.html","yellow"); 
        
        var ap = blc.blLink(main,"ap","[..]","..","gray"); 
        var t1 = blc.blTextArea(main,"t1","t1");
        var b1 = blc.blBtn(main,"b1","run");
        var b2 = blc.blBtn(main,"b2","b2");
   //     var f1 = blc.blCreateFlashCChessBord(main,"f1",'H2-E2+H9-G7+H0-G2+I9-H9+I0-H0+B9-C7+C3-C4+G6-G5+H0-H6+H7-I7+H6-G6+D9-E8+B0-C2+I7-I8+B2-A2+A9-B9+A0-B0+');  

        b1.onclick = function(){
            blc.blRunJs(t1.value);
        }
        b1.style.backgroundColor="red";
        b2.onclick = function(){
            var t4b2 = document.getElementById('t4b2');
            t1.value = t4b2.value;
        }
        return blc;
    }


    blObj.blc = blObj.run();
  </script>
<script>
 
</body>
</html>
